{
    "sourceFile": "src/components/Header.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1755587604298,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1755588676924,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,19 +1,16 @@\n import React from 'react';\n-import { TrendingUp, Search, Bell, Settings, User, LogOut } from 'lucide-react';\n+import { TrendingUp, Search, Bell, Settings, User } from 'lucide-react';\n import AccountSettings from './AccountSettings';\n import { Platform } from '../types';\n-import authService from '../services/authService';\n \n interface HeaderProps {\n   currentPlatform: Platform;\n   onPlatformSwitch: (platform: Platform) => void;\n-  onLogout: () => void;\n }\n \n-const Header: React.FC<HeaderProps> = ({ currentPlatform, onPlatformSwitch, onLogout }) => {\n+const Header: React.FC<HeaderProps> = ({ currentPlatform, onPlatformSwitch }) => {\n   const [showSettings, setShowSettings] = React.useState(false);\n-  const currentUser = authService.getCurrentUser();\n \n   const platformConfig = {\n     google: {\n       title: 'Google Ads Intelligence',\n@@ -26,13 +23,8 @@\n       hoverColor: 'hover:bg-blue-700'\n     }\n   };\n \n-  const handleLogout = async () => {\n-    await authService.logout();\n-    onLogout();\n-  };\n-\n   return (\n     <header className=\"bg-white border-b border-gray-200 sticky top-0 z-40\">\n       <div className=\"px-6 py-4\">\n         <div className=\"flex items-center justify-between\">\n@@ -100,18 +92,9 @@\n             <div className=\"flex items-center space-x-3\">\n               <div className=\"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center\">\n                 <User className=\"w-5 h-5 text-gray-600\" />\n               </div>\n-              <span className=\"text-sm font-medium text-gray-900\">\n-                {currentUser?.name || 'User'}\n-              </span>\n-              <button\n-                onClick={handleLogout}\n-                className=\"p-2 text-gray-400 hover:text-red-600 transition-colors\"\n-                title=\"Logout\"\n-              >\n-                <LogOut className=\"w-5 h-5\" />\n-              </button>\n+              <span className=\"text-sm font-medium text-gray-900\">John Doe</span>\n             </div>\n           </div>\n         </div>\n       </div>\n"
                },
                {
                    "date": 1755589673444,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,141 @@\n+import React from 'react';\n+import { TrendingUp, Search, Bell, Settings, User, LogOut } from 'lucide-react';\n+import AccountSettings from './AccountSettings';\n+import { Platform } from '../types';\n+import authService from '../services/authService';\n+\n+interface HeaderProps {\n+  currentPlatform: Platform;\n+  onPlatformSwitch: (platform: Platform) => void;\n+  onLogout: () => void;\n+}\n+\n+const Header: React.FC<HeaderProps> = ({ currentPlatform, onPlatformSwitch, onLogout }) => {\n+  const [showSettings, setShowSettings] = React.useState(false);\n+  const [isLoggingOut, setIsLoggingOut] = React.useState(false);\n+  const currentUser = authService.getCurrentUser();\n+\n+  const platformConfig = {\n+    google: {\n+      title: 'Google Ads Intelligence',\n+      color: 'bg-blue-600',\n+      hoverColor: 'hover:bg-blue-700'\n+    },\n+    meta: {\n+      title: 'Meta Ads Intelligence', \n+      color: 'bg-blue-600',\n+      hoverColor: 'hover:bg-blue-700'\n+    }\n+  };\n+\n+  const handleLogout = async () => {\n+    setIsLoggingOut(true);\n+    try {\n+      await authService.logout();\n+      onLogout();\n+    } catch (error) {\n+      console.error('Logout error:', error);\n+      // Still logout locally even if API call fails\n+      onLogout();\n+    } finally {\n+      setIsLoggingOut(false);\n+    }\n+  };\n+\n+  return (\n+    <header className=\"bg-white border-b border-gray-200 sticky top-0 z-40\">\n+      <div className=\"px-6 py-4\">\n+        <div className=\"flex items-center justify-between\">\n+          {/* Left side - Logo and Platform */}\n+          <div className=\"flex items-center space-x-6\">\n+            <div className=\"flex items-center space-x-3\">\n+              <div className={`w-10 h-10 ${platformConfig[currentPlatform].color} rounded-lg flex items-center justify-center`}>\n+                <TrendingUp className=\"w-6 h-6 text-white\" />\n+              </div>\n+              <div>\n+                <h1 className=\"text-xl font-bold text-gray-900\">\n+                  {platformConfig[currentPlatform].title}\n+                </h1>\n+                <p className=\"text-sm text-gray-500\">AI-Powered Campaign Analysis</p>\n+              </div>\n+            </div>\n+\n+            {/* Platform Switcher */}\n+            <div className=\"flex bg-gray-100 rounded-lg p-1\">\n+              <button\n+                onClick={() => onPlatformSwitch('google')}\n+                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n+                  currentPlatform === 'google'\n+                    ? 'bg-white text-gray-900 shadow-sm'\n+                    : 'text-gray-600 hover:text-gray-900'\n+                }`}\n+              >\n+                Google Ads\n+              </button>\n+              <button\n+                onClick={() => onPlatformSwitch('meta')}\n+                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n+                  currentPlatform === 'meta'\n+                    ? 'bg-white text-gray-900 shadow-sm'\n+                    : 'text-gray-600 hover:text-gray-900'\n+                }`}\n+              >\n+                Meta Ads\n+              </button>\n+            </div>\n+          </div>\n+\n+          {/* Right side - Search and User */}\n+          <div className=\"flex items-center space-x-4\">\n+            <div className=\"relative\">\n+              <Search className=\"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n+              <input\n+                type=\"text\"\n+                placeholder=\"Search campaigns...\"\n+                className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64\"\n+              />\n+            </div>\n+            \n+            <button className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\">\n+              <Bell className=\"w-5 h-5\" />\n+            </button>\n+            \n+            <button \n+              onClick={() => setShowSettings(true)}\n+              className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\"\n+            >\n+              <Settings className=\"w-5 h-5\" />\n+            </button>\n+            \n+            <div className=\"flex items-center space-x-3\">\n+              <div className=\"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center\">\n+                <User className=\"w-5 h-5 text-gray-600\" />\n+              </div>\n+              <span className=\"text-sm font-medium text-gray-900\">\n+                {currentUser?.name || 'User'}\n+              </span>\n+              <button\n+                onClick={handleLogout}\n+                disabled={isLoggingOut}\n+                className=\"p-2 text-gray-400 hover:text-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n+                title=\"Logout\"\n+              >\n+                {isLoggingOut ? (\n+                  <div className=\"w-5 h-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin\"></div>\n+                ) : (\n+                  <LogOut className=\"w-5 h-5\" />\n+                )}\n+              </button>\n+            </div>\n+          </div>\n+        </div>\n+      </div>\n+      \n+      {showSettings && (\n+        <AccountSettings onClose={() => setShowSettings(false)} />\n+      )}\n+    </header>\n+  );\n+};\n+\n+export default Header;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1755589689519,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -137,114 +137,5 @@\n     </header>\n   );\n };\n \n-export default Header;\n-import React from 'react';\n-import { TrendingUp, Search, Bell, Settings, User } from 'lucide-react';\n-import AccountSettings from './AccountSettings';\n-import { Platform } from '../types';\n-\n-interface HeaderProps {\n-  currentPlatform: Platform;\n-  onPlatformSwitch: (platform: Platform) => void;\n-}\n-\n-const Header: React.FC<HeaderProps> = ({ currentPlatform, onPlatformSwitch }) => {\n-  const [showSettings, setShowSettings] = React.useState(false);\n-\n-  const platformConfig = {\n-    google: {\n-      title: 'Google Ads Intelligence',\n-      color: 'bg-blue-600',\n-      hoverColor: 'hover:bg-blue-700'\n-    },\n-    meta: {\n-      title: 'Meta Ads Intelligence', \n-      color: 'bg-blue-600',\n-      hoverColor: 'hover:bg-blue-700'\n-    }\n-  };\n-\n-  return (\n-    <header className=\"bg-white border-b border-gray-200 sticky top-0 z-40\">\n-      <div className=\"px-6 py-4\">\n-        <div className=\"flex items-center justify-between\">\n-          {/* Left side - Logo and Platform */}\n-          <div className=\"flex items-center space-x-6\">\n-            <div className=\"flex items-center space-x-3\">\n-              <div className={`w-10 h-10 ${platformConfig[currentPlatform].color} rounded-lg flex items-center justify-center`}>\n-                <TrendingUp className=\"w-6 h-6 text-white\" />\n-              </div>\n-              <div>\n-                <h1 className=\"text-xl font-bold text-gray-900\">\n-                  {platformConfig[currentPlatform].title}\n-                </h1>\n-                <p className=\"text-sm text-gray-500\">AI-Powered Campaign Analysis</p>\n-              </div>\n-            </div>\n-\n-            {/* Platform Switcher */}\n-            <div className=\"flex bg-gray-100 rounded-lg p-1\">\n-              <button\n-                onClick={() => onPlatformSwitch('google')}\n-                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n-                  currentPlatform === 'google'\n-                    ? 'bg-white text-gray-900 shadow-sm'\n-                    : 'text-gray-600 hover:text-gray-900'\n-                }`}\n-              >\n-                Google Ads\n-              </button>\n-              <button\n-                onClick={() => onPlatformSwitch('meta')}\n-                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n-                  currentPlatform === 'meta'\n-                    ? 'bg-white text-gray-900 shadow-sm'\n-                    : 'text-gray-600 hover:text-gray-900'\n-                }`}\n-              >\n-                Meta Ads\n-              </button>\n-            </div>\n-          </div>\n-\n-          {/* Right side - Search and User */}\n-          <div className=\"flex items-center space-x-4\">\n-            <div className=\"relative\">\n-              <Search className=\"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n-              <input\n-                type=\"text\"\n-                placeholder=\"Search campaigns...\"\n-                className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64\"\n-              />\n-            </div>\n-            \n-            <button className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\">\n-              <Bell className=\"w-5 h-5\" />\n-            </button>\n-            \n-            <button \n-              onClick={() => setShowSettings(true)}\n-              className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\"\n-            >\n-              <Settings className=\"w-5 h-5\" />\n-            </button>\n-            \n-            <div className=\"flex items-center space-x-3\">\n-              <div className=\"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center\">\n-                <User className=\"w-5 h-5 text-gray-600\" />\n-              </div>\n-              <span className=\"text-sm font-medium text-gray-900\">John Doe</span>\n-            </div>\n-          </div>\n-        </div>\n-      </div>\n-      \n-      {showSettings && (\n-        <AccountSettings onClose={() => setShowSettings(false)} />\n-      )}\n-    </header>\n-  );\n-};\n-\n export default Header;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1755593629473,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,163 @@\n+import React from 'react';\n+import { TrendingUp, Search, Bell, Settings, User, LogOut } from 'lucide-react';\n+import AccountSettings from './AccountSettings';\n+import { Platform } from '../types';\n+import authService from '../services/authService';\n+\n+interface HeaderProps {\n+  currentPlatform: Platform;\n+  onPlatformSwitch: (platform: Platform) => void;\n+  onLogout: () => void;\n+}\n+\n+const Header: React.FC<HeaderProps> = ({ currentPlatform, onPlatformSwitch, onLogout }) => {\n+  const [showSettings, setShowSettings] = React.useState(false);\n+  const [isLoggingOut, setIsLoggingOut] = React.useState(false);\n+  const currentUser = authService.getCurrentUser();\n+\n+  // Debug: Log current user to console\n+  React.useEffect(() => {\n+    console.log('Current user in Header:', currentUser);\n+  }, [currentUser]);\n+\n+  const platformConfig = {\n+    google: {\n+      title: 'Google Ads Intelligence',\n+      color: 'bg-blue-600',\n+      hoverColor: 'hover:bg-blue-700'\n+    },\n+    meta: {\n+      title: 'Meta Ads Intelligence', \n+      color: 'bg-blue-600',\n+      hoverColor: 'hover:bg-blue-700'\n+    }\n+  };\n+\n+  const handleLogout = async () => {\n+    setIsLoggingOut(true);\n+    try {\n+      await authService.logout();\n+      onLogout();\n+    } catch (error) {\n+      console.error('Logout error:', error);\n+      // Still logout locally even if API call fails\n+      onLogout();\n+    } finally {\n+      setIsLoggingOut(false);\n+    }\n+  };\n+\n+  // Get display name - fallback to email if name is not available\n+  const getDisplayName = () => {\n+    if (currentUser?.name && currentUser.name.trim()) {\n+      return currentUser.name;\n+    }\n+    if (currentUser?.email) {\n+      return currentUser.email.split('@')[0]; // Use email prefix\n+    }\n+    return 'User';\n+  };\n+\n+  return (\n+    <header className=\"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm\">\n+      <div className=\"px-6 py-4\">\n+        <div className=\"flex items-center justify-between\">\n+          {/* Left side - Logo and Platform */}\n+          <div className=\"flex items-center space-x-6\">\n+            <div className=\"flex items-center space-x-3\">\n+              <div className={`w-10 h-10 ${platformConfig[currentPlatform].color} rounded-lg flex items-center justify-center`}>\n+                <TrendingUp className=\"w-6 h-6 text-white\" />\n+              </div>\n+              <div>\n+                <h1 className=\"text-xl font-bold text-gray-900\">\n+                  {platformConfig[currentPlatform].title}\n+                </h1>\n+                <p className=\"text-sm text-gray-500\">AI-Powered Campaign Analysis</p>\n+              </div>\n+            </div>\n+\n+            {/* Platform Switcher */}\n+            <div className=\"flex bg-gray-100 rounded-lg p-1\">\n+              <button\n+                onClick={() => onPlatformSwitch('google')}\n+                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n+                  currentPlatform === 'google'\n+                    ? 'bg-white text-gray-900 shadow-sm'\n+                    : 'text-gray-600 hover:text-gray-900'\n+                }`}\n+              >\n+                Google Ads\n+              </button>\n+              <button\n+                onClick={() => onPlatformSwitch('meta')}\n+                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n+                  currentPlatform === 'meta'\n+                    ? 'bg-white text-gray-900 shadow-sm'\n+                    : 'text-gray-600 hover:text-gray-900'\n+                }`}\n+              >\n+                Meta Ads\n+              </button>\n+            </div>\n+          </div>\n+\n+          {/* Right side - Search and User */}\n+          <div className=\"flex items-center space-x-4\">\n+            <div className=\"relative\">\n+              <Search className=\"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n+              <input\n+                type=\"text\"\n+                placeholder=\"Search campaigns...\"\n+                className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64\"\n+              />\n+            </div>\n+            \n+            <button className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\">\n+              <Bell className=\"w-5 h-5\" />\n+            </button>\n+            \n+            <button \n+              onClick={() => setShowSettings(true)}\n+              className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\"\n+            >\n+              <Settings className=\"w-5 h-5\" />\n+            </button>\n+            \n+            {/* User Profile Section */}\n+            <div className=\"flex items-center space-x-3 bg-gray-50 rounded-lg px-3 py-2\">\n+              <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n+                <User className=\"w-5 h-5 text-blue-600\" />\n+              </div>\n+              <div className=\"flex flex-col\">\n+                <span className=\"text-sm font-medium text-gray-900\">\n+                  {getDisplayName()}\n+                </span>\n+                <span className=\"text-xs text-gray-500\">\n+                  {currentUser?.email || 'user@example.com'}\n+                </span>\n+              </div>\n+              <button\n+                onClick={handleLogout}\n+                disabled={isLoggingOut}\n+                className=\"ml-2 p-2 text-gray-400 hover:text-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed rounded-lg hover:bg-red-50\"\n+                title=\"Logout\"\n+              >\n+                {isLoggingOut ? (\n+                  <div className=\"w-5 h-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin\"></div>\n+                ) : (\n+                  <LogOut className=\"w-5 h-5\" />\n+                )}\n+              </button>\n+            </div>\n+          </div>\n+        </div>\n+      </div>\n+      \n+      {showSettings && (\n+        <AccountSettings onClose={() => setShowSettings(false)} />\n+      )}\n+    </header>\n+  );\n+};\n+\n+export default Header;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1755617106668,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,146 +159,5 @@\n     </header>\n   );\n };\n \n-export default Header;\n-import React from 'react';\n-import { TrendingUp, Search, Bell, Settings, User, LogOut } from 'lucide-react';\n-import AccountSettings from './AccountSettings';\n-import { Platform } from '../types';\n-import authService from '../services/authService';\n-\n-interface HeaderProps {\n-  currentPlatform: Platform;\n-  onPlatformSwitch: (platform: Platform) => void;\n-  onLogout: () => void;\n-}\n-\n-const Header: React.FC<HeaderProps> = ({ currentPlatform, onPlatformSwitch, onLogout }) => {\n-  const [showSettings, setShowSettings] = React.useState(false);\n-  const [isLoggingOut, setIsLoggingOut] = React.useState(false);\n-  const currentUser = authService.getCurrentUser();\n-\n-  const platformConfig = {\n-    google: {\n-      title: 'Google Ads Intelligence',\n-      color: 'bg-blue-600',\n-      hoverColor: 'hover:bg-blue-700'\n-    },\n-    meta: {\n-      title: 'Meta Ads Intelligence', \n-      color: 'bg-blue-600',\n-      hoverColor: 'hover:bg-blue-700'\n-    }\n-  };\n-\n-  const handleLogout = async () => {\n-    setIsLoggingOut(true);\n-    try {\n-      await authService.logout();\n-      onLogout();\n-    } catch (error) {\n-      console.error('Logout error:', error);\n-      // Still logout locally even if API call fails\n-      onLogout();\n-    } finally {\n-      setIsLoggingOut(false);\n-    }\n-  };\n-\n-  return (\n-    <header className=\"bg-white border-b border-gray-200 sticky top-0 z-40\">\n-      <div className=\"px-6 py-4\">\n-        <div className=\"flex items-center justify-between\">\n-          {/* Left side - Logo and Platform */}\n-          <div className=\"flex items-center space-x-6\">\n-            <div className=\"flex items-center space-x-3\">\n-              <div className={`w-10 h-10 ${platformConfig[currentPlatform].color} rounded-lg flex items-center justify-center`}>\n-                <TrendingUp className=\"w-6 h-6 text-white\" />\n-              </div>\n-              <div>\n-                <h1 className=\"text-xl font-bold text-gray-900\">\n-                  {platformConfig[currentPlatform].title}\n-                </h1>\n-                <p className=\"text-sm text-gray-500\">AI-Powered Campaign Analysis</p>\n-              </div>\n-            </div>\n-\n-            {/* Platform Switcher */}\n-            <div className=\"flex bg-gray-100 rounded-lg p-1\">\n-              <button\n-                onClick={() => onPlatformSwitch('google')}\n-                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n-                  currentPlatform === 'google'\n-                    ? 'bg-white text-gray-900 shadow-sm'\n-                    : 'text-gray-600 hover:text-gray-900'\n-                }`}\n-              >\n-                Google Ads\n-              </button>\n-              <button\n-                onClick={() => onPlatformSwitch('meta')}\n-                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n-                  currentPlatform === 'meta'\n-                    ? 'bg-white text-gray-900 shadow-sm'\n-                    : 'text-gray-600 hover:text-gray-900'\n-                }`}\n-              >\n-                Meta Ads\n-              </button>\n-            </div>\n-          </div>\n-\n-          {/* Right side - Search and User */}\n-          <div className=\"flex items-center space-x-4\">\n-            <div className=\"relative\">\n-              <Search className=\"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n-              <input\n-                type=\"text\"\n-                placeholder=\"Search campaigns...\"\n-                className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64\"\n-              />\n-            </div>\n-            \n-            <button className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\">\n-              <Bell className=\"w-5 h-5\" />\n-            </button>\n-            \n-            <button \n-              onClick={() => setShowSettings(true)}\n-              className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\"\n-            >\n-              <Settings className=\"w-5 h-5\" />\n-            </button>\n-            \n-            <div className=\"flex items-center space-x-3\">\n-              <div className=\"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center\">\n-                <User className=\"w-5 h-5 text-gray-600\" />\n-              </div>\n-              <span className=\"text-sm font-medium text-gray-900\">\n-                {currentUser?.name || 'User'}\n-              </span>\n-              <button\n-                onClick={handleLogout}\n-                disabled={isLoggingOut}\n-                className=\"p-2 text-gray-400 hover:text-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n-                title=\"Logout\"\n-              >\n-                {isLoggingOut ? (\n-                  <div className=\"w-5 h-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin\"></div>\n-                ) : (\n-                  <LogOut className=\"w-5 h-5\" />\n-                )}\n-              </button>\n-            </div>\n-          </div>\n-        </div>\n-      </div>\n-      \n-      {showSettings && (\n-        <AccountSettings onClose={() => setShowSettings(false)} />\n-      )}\n-    </header>\n-  );\n-};\n-\n export default Header;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1755696166467,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,167 @@\n+import React from 'react';\n+import { TrendingUp, Search, Bell, Settings, User, LogOut } from 'lucide-react';\n+import AccountSettings from './AccountSettings';\n+import { Platform } from '../types';\n+import authService from '../services/authService';\n+\n+interface HeaderProps {\n+  currentPlatform: Platform;\n+  onPlatformSwitch: (platform: Platform) => void;\n+  onLogout: () => void;\n+}\n+\n+const Header: React.FC<HeaderProps> = ({ currentPlatform, onPlatformSwitch, onLogout }) => {\n+  const [showSettings, setShowSettings] = React.useState(false);\n+  const [isLoggingOut, setIsLoggingOut] = React.useState(false);\n+  const currentUser = authService.getCurrentUser();\n+\n+  // Debug: Log current user to console\n+  React.useEffect(() => {\n+    console.log('Current user in Header:', currentUser);\n+  }, [currentUser]);\n+\n+  const platformConfig = {\n+    google: {\n+      title: 'Google Ads Intelligence',\n+      color: 'bg-blue-600',\n+      hoverColor: 'hover:bg-blue-700'\n+    },\n+    meta: {\n+      title: 'Meta Ads Intelligence', \n+      color: 'bg-blue-600',\n+      hoverColor: 'hover:bg-blue-700'\n+    }\n+  };\n+\n+  const handleLogout = async () => {\n+    setIsLoggingOut(true);\n+    try {\n+      await authService.logout();\n+      onLogout();\n+    } catch (error) {\n+      console.error('Logout error:', error);\n+      // Still logout locally even if API call fails\n+      onLogout();\n+    } finally {\n+      setIsLoggingOut(false);\n+    }\n+  };\n+\n+  // Get display name - fallback to email if name is not available\n+  const getDisplayName = () => {\n+    if (currentUser?.name && currentUser.name.trim()) {\n+      return currentUser.name;\n+    }\n+    if (currentUser?.email) {\n+      return currentUser.email.split('@')[0]; // Use email prefix\n+    }\n+    return 'User';\n+  };\n+\n+\n+\n+  return (\n+    <header className=\"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm\">\n+      <div className=\"px-6 py-4\">\n+        <div className=\"flex items-center justify-between\">\n+          {/* Left side - Logo and Platform */}\n+          <div className=\"flex items-center space-x-6\">\n+            <div className=\"flex items-center space-x-3\">\n+              <div className={`w-10 h-10 ${platformConfig[currentPlatform].color} rounded-lg flex items-center justify-center`}>\n+                <TrendingUp className=\"w-6 h-6 text-white\" />\n+              </div>\n+              <div>\n+                <h1 className=\"text-xl font-bold text-gray-900\">\n+                  {platformConfig[currentPlatform].title}\n+                </h1>\n+                <p className=\"text-sm text-gray-500\">AI-Powered Campaign Analysis</p>\n+              </div>\n+            </div>\n+\n+            {/* Platform Switcher */}\n+            <div className=\"flex bg-gray-100 rounded-lg p-1\">\n+              <button\n+                onClick={() => onPlatformSwitch('google')}\n+                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n+                  currentPlatform === 'google'\n+                    ? 'bg-white text-gray-900 shadow-sm'\n+                    : 'text-gray-600 hover:text-gray-900'\n+                }`}\n+              >\n+                Google Ads\n+              </button>\n+              <button\n+                onClick={() => onPlatformSwitch('meta')}\n+                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n+                  currentPlatform === 'meta'\n+                    ? 'bg-white text-gray-900 shadow-sm'\n+                    : 'text-gray-600 hover:text-gray-900'\n+                }`}\n+              >\n+                Meta Ads\n+              </button>\n+            </div>\n+          </div>\n+\n+\n+\n+          {/* Right side - Search and User */}\n+          <div className=\"flex items-center space-x-4\">\n+            <div className=\"relative\">\n+              <Search className=\"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n+              <input\n+                type=\"text\"\n+                placeholder=\"Search campaigns...\"\n+                className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64\"\n+              />\n+            </div>\n+            \n+            <button className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\">\n+              <Bell className=\"w-5 h-5\" />\n+            </button>\n+            \n+            <button \n+              onClick={() => setShowSettings(true)}\n+              className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\"\n+            >\n+              <Settings className=\"w-5 h-5\" />\n+            </button>\n+            \n+            {/* User Profile Section */}\n+            <div className=\"flex items-center space-x-3 bg-gray-50 rounded-lg px-3 py-2\">\n+              <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n+                <User className=\"w-5 h-5 text-blue-600\" />\n+              </div>\n+              <div className=\"flex flex-col\">\n+                <span className=\"text-sm font-medium text-gray-900\">\n+                  {getDisplayName()}\n+                </span>\n+                <span className=\"text-xs text-gray-500\">\n+                  {currentUser?.email || 'user@example.com'}\n+                </span>\n+              </div>\n+              <button\n+                onClick={handleLogout}\n+                disabled={isLoggingOut}\n+                className=\"ml-2 p-2 text-gray-400 hover:text-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed rounded-lg hover:bg-red-50\"\n+                title=\"Logout\"\n+              >\n+                {isLoggingOut ? (\n+                  <div className=\"w-5 h-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin\"></div>\n+                ) : (\n+                  <LogOut className=\"w-5 h-5\" />\n+                )}\n+              </button>\n+            </div>\n+          </div>\n+        </div>\n+      </div>\n+      \n+      {showSettings && (\n+        <AccountSettings onClose={() => setShowSettings(false)} />\n+      )}\n+    </header>\n+  );\n+};\n+\n+export default Header;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1756097033904,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,182 @@\n+import React from 'react';\n+import { TrendingUp, Search, Bell, Settings, User, LogOut } from 'lucide-react';\n+import AccountSettings from './AccountSettings';\n+import { Platform } from '../types';\n+import authService from '../services/authService';\n+\n+interface HeaderProps {\n+  currentPlatform: Platform;\n+  onPlatformSwitch: (platform: Platform) => void;\n+  onLogout: () => void;\n+}\n+\n+const Header: React.FC<HeaderProps> = ({ currentPlatform, onPlatformSwitch, onLogout }) => {\n+  const [showSettings, setShowSettings] = React.useState(false);\n+  const [isLoggingOut, setIsLoggingOut] = React.useState(false);\n+  const currentUser = authService.getCurrentUser();\n+\n+  // Debug: Log current user to console\n+  React.useEffect(() => {\n+    console.log('Current user in Header:', currentUser);\n+  }, [currentUser]);\n+\n+  const platformConfig = {\n+    google: {\n+      title: 'Google Ads Intelligence',\n+      color: 'bg-blue-600',\n+      hoverColor: 'hover:bg-blue-700'\n+    },\n+    'google-new': {\n+      title: 'Google AI Chat',\n+      color: 'bg-green-600',\n+      hoverColor: 'hover:bg-green-700'\n+    },\n+    meta: {\n+      title: 'Meta Ads Intelligence', \n+      color: 'bg-blue-600',\n+      hoverColor: 'hover:bg-blue-700'\n+    }\n+  };\n+\n+  const handleLogout = async () => {\n+    setIsLoggingOut(true);\n+    try {\n+      await authService.logout();\n+      onLogout();\n+    } catch (error) {\n+      console.error('Logout error:', error);\n+      // Still logout locally even if API call fails\n+      onLogout();\n+    } finally {\n+      setIsLoggingOut(false);\n+    }\n+  };\n+\n+  // Get display name - fallback to email if name is not available\n+  const getDisplayName = () => {\n+    if (currentUser?.name && currentUser.name.trim()) {\n+      return currentUser.name;\n+    }\n+    if (currentUser?.email) {\n+      return currentUser.email.split('@')[0]; // Use email prefix\n+    }\n+    return 'User';\n+  };\n+\n+\n+\n+  return (\n+    <header className=\"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm\">\n+      <div className=\"px-6 py-4\">\n+        <div className=\"flex items-center justify-between\">\n+          {/* Left side - Logo and Platform */}\n+          <div className=\"flex items-center space-x-6\">\n+            <div className=\"flex items-center space-x-3\">\n+              <div className={`w-10 h-10 ${platformConfig[currentPlatform].color} rounded-lg flex items-center justify-center`}>\n+                <TrendingUp className=\"w-6 h-6 text-white\" />\n+              </div>\n+              <div>\n+                <h1 className=\"text-xl font-bold text-gray-900\">\n+                  {platformConfig[currentPlatform].title}\n+                </h1>\n+                <p className=\"text-sm text-gray-500\">AI-Powered Campaign Analysis</p>\n+              </div>\n+            </div>\n+\n+            {/* Platform Switcher */}\n+            <div className=\"flex bg-gray-100 rounded-lg p-1\">\n+              <button\n+                onClick={() => onPlatformSwitch('google')}\n+                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n+                  currentPlatform === 'google'\n+                    ? 'bg-white text-gray-900 shadow-sm'\n+                    : 'text-gray-600 hover:text-gray-900'\n+                }`}\n+              >\n+                Google Ads\n+              </button>\n+              <button\n+                onClick={() => onPlatformSwitch('google-new')}\n+                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n+                  currentPlatform === 'google-new'\n+                    ? 'bg-white text-gray-900 shadow-sm'\n+                    : 'text-gray-600 hover:text-gray-900'\n+                }`}\n+              >\n+                Google AI Chat\n+              </button>\n+              <button\n+                onClick={() => onPlatformSwitch('meta')}\n+                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n+                  currentPlatform === 'meta'\n+                    ? 'bg-white text-gray-900 shadow-sm'\n+                    : 'text-gray-600 hover:text-gray-900'\n+                }`}\n+              >\n+                Meta Ads\n+              </button>\n+            </div>\n+          </div>\n+\n+\n+\n+          {/* Right side - Search and User */}\n+          <div className=\"flex items-center space-x-4\">\n+            <div className=\"relative\">\n+              <Search className=\"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n+              <input\n+                type=\"text\"\n+                placeholder=\"Search campaigns...\"\n+                className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64\"\n+              />\n+            </div>\n+            \n+            <button className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\">\n+              <Bell className=\"w-5 h-5\" />\n+            </button>\n+            \n+            <button \n+              onClick={() => setShowSettings(true)}\n+              className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\"\n+            >\n+              <Settings className=\"w-5 h-5\" />\n+            </button>\n+            \n+            {/* User Profile Section */}\n+            <div className=\"flex items-center space-x-3 bg-gray-50 rounded-lg px-3 py-2\">\n+              <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n+                <User className=\"w-5 h-5 text-blue-600\" />\n+              </div>\n+              <div className=\"flex flex-col\">\n+                <span className=\"text-sm font-medium text-gray-900\">\n+                  {getDisplayName()}\n+                </span>\n+                <span className=\"text-xs text-gray-500\">\n+                  {currentUser?.email || 'user@example.com'}\n+                </span>\n+              </div>\n+              <button\n+                onClick={handleLogout}\n+                disabled={isLoggingOut}\n+                className=\"ml-2 p-2 text-gray-400 hover:text-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed rounded-lg hover:bg-red-50\"\n+                title=\"Logout\"\n+              >\n+                {isLoggingOut ? (\n+                  <div className=\"w-5 h-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin\"></div>\n+                ) : (\n+                  <LogOut className=\"w-5 h-5\" />\n+                )}\n+              </button>\n+            </div>\n+          </div>\n+        </div>\n+      </div>\n+      \n+      {showSettings && (\n+        <AccountSettings onClose={() => setShowSettings(false)} />\n+      )}\n+    </header>\n+  );\n+};\n+\n+export default Header;\n\\ No newline at end of file\n"
                }
            ],
            "date": 1755587604298,
            "name": "Commit-0",
            "content": "import React from 'react';\nimport { TrendingUp, Search, Bell, Settings, User, LogOut } from 'lucide-react';\nimport AccountSettings from './AccountSettings';\nimport { Platform } from '../types';\nimport authService from '../services/authService';\n\ninterface HeaderProps {\n  currentPlatform: Platform;\n  onPlatformSwitch: (platform: Platform) => void;\n  onLogout: () => void;\n}\n\nconst Header: React.FC<HeaderProps> = ({ currentPlatform, onPlatformSwitch, onLogout }) => {\n  const [showSettings, setShowSettings] = React.useState(false);\n  const currentUser = authService.getCurrentUser();\n\n  const platformConfig = {\n    google: {\n      title: 'Google Ads Intelligence',\n      color: 'bg-blue-600',\n      hoverColor: 'hover:bg-blue-700'\n    },\n    meta: {\n      title: 'Meta Ads Intelligence', \n      color: 'bg-blue-600',\n      hoverColor: 'hover:bg-blue-700'\n    }\n  };\n\n  const handleLogout = async () => {\n    await authService.logout();\n    onLogout();\n  };\n\n  return (\n    <header className=\"bg-white border-b border-gray-200 sticky top-0 z-40\">\n      <div className=\"px-6 py-4\">\n        <div className=\"flex items-center justify-between\">\n          {/* Left side - Logo and Platform */}\n          <div className=\"flex items-center space-x-6\">\n            <div className=\"flex items-center space-x-3\">\n              <div className={`w-10 h-10 ${platformConfig[currentPlatform].color} rounded-lg flex items-center justify-center`}>\n                <TrendingUp className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900\">\n                  {platformConfig[currentPlatform].title}\n                </h1>\n                <p className=\"text-sm text-gray-500\">AI-Powered Campaign Analysis</p>\n              </div>\n            </div>\n\n            {/* Platform Switcher */}\n            <div className=\"flex bg-gray-100 rounded-lg p-1\">\n              <button\n                onClick={() => onPlatformSwitch('google')}\n                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n                  currentPlatform === 'google'\n                    ? 'bg-white text-gray-900 shadow-sm'\n                    : 'text-gray-600 hover:text-gray-900'\n                }`}\n              >\n                Google Ads\n              </button>\n              <button\n                onClick={() => onPlatformSwitch('meta')}\n                className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n                  currentPlatform === 'meta'\n                    ? 'bg-white text-gray-900 shadow-sm'\n                    : 'text-gray-600 hover:text-gray-900'\n                }`}\n              >\n                Meta Ads\n              </button>\n            </div>\n          </div>\n\n          {/* Right side - Search and User */}\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"relative\">\n              <Search className=\"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search campaigns...\"\n                className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64\"\n              />\n            </div>\n            \n            <button className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\">\n              <Bell className=\"w-5 h-5\" />\n            </button>\n            \n            <button \n              onClick={() => setShowSettings(true)}\n              className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\"\n            >\n              <Settings className=\"w-5 h-5\" />\n            </button>\n            \n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center\">\n                <User className=\"w-5 h-5 text-gray-600\" />\n              </div>\n              <span className=\"text-sm font-medium text-gray-900\">\n                {currentUser?.name || 'User'}\n              </span>\n              <button\n                onClick={handleLogout}\n                className=\"p-2 text-gray-400 hover:text-red-600 transition-colors\"\n                title=\"Logout\"\n              >\n                <LogOut className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {showSettings && (\n        <AccountSettings onClose={() => setShowSettings(false)} />\n      )}\n    </header>\n  );\n};\n\nexport default Header;"
        }
    ]
}